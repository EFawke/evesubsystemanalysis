{"ast":null,"code":"var _jsxFileName = \"/Users/tedfawke/rage-roll/frontend/src/info.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Info extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.HomeCheck = () => {\n      if (window.location.pathname === \"/\") {\n        return \"Heron\";\n      } else {\n        return window.location.pathname;\n      }\n    };\n\n    this.fetchTotalDestroyed = () => {\n      axios.get(`/api/esi/totalDestroyed/${this.state.shipSelected}`).then(response => {\n        return this.setState({\n          totalDestroyed: response.data.totalDestroyed\n        });\n      });\n    };\n\n    this.calcTotalDays = () => {\n      const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n\n      const firstDate = new Date().toISOString().split('T')[0];\n      const secondDate = Date.now();\n      const diffDays = Math.round(Math.abs((firstDate - secondDate) / oneDay));\n      this.setState({\n        totalDays: diffDays\n      });\n    };\n\n    this.state = {\n      totalDestroyed: null,\n      shipSelected: this.props.shipSelected,\n      totalDays: null\n    };\n    this.fetchTotalDestroyed = this.fetchTotalDestroyed.bind(this);\n  }\n\n  componentDidMount() {\n    this.calcTotalDays();\n    this.fetchTotalDestroyed();\n    this.calcTotalDays();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"info\",\n      children: [\"Fetching \", this.state.totalDestroyed, \" \", this.props.shipSelected, \" kills in the last \", this.state.totalDays, \" days.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\n;\nexport default Info;","map":{"version":3,"sources":["/Users/tedfawke/rage-roll/frontend/src/info.js"],"names":["React","axios","Info","Component","constructor","props","HomeCheck","window","location","pathname","fetchTotalDestroyed","get","state","shipSelected","then","response","setState","totalDestroyed","data","calcTotalDays","oneDay","firstDate","Date","toISOString","split","secondDate","now","diffDays","Math","round","abs","totalDays","bind","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,IAAN,SAAmBF,KAAK,CAACG,SAAzB,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SASnBC,SATmB,GASP,MAAM;AACd,UAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,GAAhC,EAAoC;AAChC,eAAO,OAAP;AACH,OAFD,MAGK;AACD,eAAOF,MAAM,CAACC,QAAP,CAAgBC,QAAvB;AACH;AACJ,KAhBkB;;AAAA,SAiBnBC,mBAjBmB,GAiBG,MAAM;AACxBT,MAAAA,KAAK,CAACU,GAAN,CAAW,2BAA0B,KAAKC,KAAL,CAAWC,YAAa,EAA7D,EACCC,IADD,CACMC,QAAQ,IAAI;AACd,eAAO,KAAKC,QAAL,CAAc;AAACC,UAAAA,cAAc,EAAEF,QAAQ,CAACG,IAAT,CAAcD;AAA/B,SAAd,CAAP;AACH,OAHD;AAIH,KAtBkB;;AAAA,SAuBnBE,aAvBmB,GAuBH,MAAK;AACjB,YAAMC,MAAM,GAAG,KAAK,EAAL,GAAU,EAAV,GAAe,IAA9B,CADiB,CACmB;;AACpC,YAAMC,SAAS,GAAG,IAAIC,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAlB;AACA,YAAMC,UAAU,GAAGH,IAAI,CAACI,GAAL,EAAnB;AACA,YAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,GAAL,CAAS,CAACT,SAAS,GAAGI,UAAb,IAA2BL,MAApC,CAAX,CAAjB;AACA,WAAKJ,QAAL,CAAc;AAACe,QAAAA,SAAS,EAAEJ;AAAZ,OAAd;AACH,KA7BkB;;AAEf,SAAKf,KAAL,GAAa;AACTK,MAAAA,cAAc,EAAE,IADP;AAETJ,MAAAA,YAAY,EAAE,KAAKR,KAAL,CAAWQ,YAFhB;AAGTkB,MAAAA,SAAS,EAAE;AAHF,KAAb;AAKA,SAAKrB,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBsB,IAAzB,CAA8B,IAA9B,CAA3B;AACH;;AAsBDC,EAAAA,iBAAiB,GAAE;AACf,SAAKd,aAAL;AACA,SAAKT,mBAAL;AACA,SAAKS,aAAL;AACH;;AACDe,EAAAA,MAAM,GAAE;AACA,wBACI;AAAG,MAAA,SAAS,EAAG,MAAf;AAAA,8BAAgC,KAAKtB,KAAL,CAAWK,cAA3C,OAA4D,KAAKZ,KAAL,CAAWQ,YAAvE,yBAAwG,KAAKD,KAAL,CAAWmB,SAAnH;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAGP;;AAxC8B;;AAyClC;AAED,eAAe7B,IAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nclass Info extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            totalDestroyed: null,\n            shipSelected: this.props.shipSelected,\n            totalDays: null\n        };\n        this.fetchTotalDestroyed = this.fetchTotalDestroyed.bind(this);\n    }\n    HomeCheck = () => {\n        if(window.location.pathname === \"/\"){\n            return \"Heron\"\n        }\n        else {\n            return window.location.pathname\n        }\n    }\n    fetchTotalDestroyed = () => {\n        axios.get(`/api/esi/totalDestroyed/${this.state.shipSelected}`)\n        .then(response => {\n            return this.setState({totalDestroyed: response.data.totalDestroyed})\n        })\n    }\n    calcTotalDays = () =>{\n        const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n        const firstDate = new Date().toISOString().split('T')[0];\n        const secondDate = Date.now();\n        const diffDays = Math.round(Math.abs((firstDate - secondDate) / oneDay));\n        this.setState({totalDays: diffDays});\n    }\n    componentDidMount(){\n        this.calcTotalDays();\n        this.fetchTotalDestroyed();\n        this.calcTotalDays();\n    };\n    render(){\n            return (\n                <p className = \"info\">Fetching {this.state.totalDestroyed} {this.props.shipSelected} kills in the last {this.state.totalDays} days.</p>\n            )\n    }\n};\n\nexport default Info;\n"]},"metadata":{},"sourceType":"module"}