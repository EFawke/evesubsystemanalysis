{"ast":null,"code":"import _classCallCheck from\"/Users/tedfawke/rage-roll/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tedfawke/rage-roll/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/tedfawke/rage-roll/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/tedfawke/rage-roll/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tedfawke/rage-roll/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";var Info=/*#__PURE__*/function(_React$Component){_inherits(Info,_React$Component);var _super=_createSuper(Info);function Info(props){var _this;_classCallCheck(this,Info);_this=_super.call(this,props);_this.HomeCheck=function(){if(window.location.pathname===\"/\"){return\"Heron\";}else{return window.location.pathname;}};_this.fetchTotalDestroyed=function(){axios.get(\"/api/esi/totalDestroyed/\".concat(_this.state.shipSelected)).then(function(response){return _this.setState({totalDestroyed:response.data.totalDestroyed});});};_this.calcTotalDays=function(){var oneDay=24*60*60*1000;// hours*minutes*seconds*milliseconds\nvar firstDate=new Date('2021-07-03T11:30:02Z');var secondDate=Date.now();var diffDays=Math.round(Math.abs((firstDate-secondDate)/oneDay));_this.setState({totalDays:diffDays});};_this.state={totalDestroyed:null,shipSelected:_this.props.shipSelected,totalDays:null};_this.fetchTotalDestroyed=_this.fetchTotalDestroyed.bind(_assertThisInitialized(_this));return _this;}_createClass(Info,[{key:\"componentDidMount\",value:function componentDidMount(){this.calcTotalDays();this.fetchTotalDestroyed();this.calcTotalDays();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"p\",{className:\"info\",children:[\"Fetching \",this.state.totalDestroyed,\" \",this.props.shipSelected,\" kills from the last \",this.state.totalDays,\" days in wormhole space.\"]});}}]);return Info;}(React.Component);;export default Info;","map":{"version":3,"sources":["/Users/tedfawke/rage-roll/frontend/src/info.js"],"names":["React","axios","Info","props","HomeCheck","window","location","pathname","fetchTotalDestroyed","get","state","shipSelected","then","response","setState","totalDestroyed","data","calcTotalDays","oneDay","firstDate","Date","secondDate","now","diffDays","Math","round","abs","totalDays","bind","Component"],"mappings":"ykBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,gDAEMC,CAAAA,I,wGACF,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EADe,MASnBC,SATmB,CASP,UAAM,CACd,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA6B,GAAhC,CAAoC,CAChC,MAAO,OAAP,CACH,CAFD,IAGK,CACD,MAAOF,CAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAvB,CACH,CACJ,CAhBkB,OAiBnBC,mBAjBmB,CAiBG,UAAM,CACxBP,KAAK,CAACQ,GAAN,mCAAqC,MAAKC,KAAL,CAAWC,YAAhD,GACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CACd,MAAO,OAAKC,QAAL,CAAc,CAACC,cAAc,CAAEF,QAAQ,CAACG,IAAT,CAAcD,cAA/B,CAAd,CAAP,CACH,CAHD,EAIH,CAtBkB,OAuBnBE,aAvBmB,CAuBH,UAAK,CACjB,GAAMC,CAAAA,MAAM,CAAG,GAAK,EAAL,CAAU,EAAV,CAAe,IAA9B,CAAoC;AACpC,GAAMC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,IAAJ,CAAS,sBAAT,CAAlB,CACA,GAAMC,CAAAA,UAAU,CAAGD,IAAI,CAACE,GAAL,EAAnB,CACA,GAAMC,CAAAA,QAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,GAAL,CAAS,CAACP,SAAS,CAAGE,UAAb,EAA2BH,MAApC,CAAX,CAAjB,CACA,MAAKJ,QAAL,CAAc,CAACa,SAAS,CAAEJ,QAAZ,CAAd,EACH,CA7BkB,CAEf,MAAKb,KAAL,CAAa,CACTK,cAAc,CAAE,IADP,CAETJ,YAAY,CAAE,MAAKR,KAAL,CAAWQ,YAFhB,CAGTgB,SAAS,CAAE,IAHF,CAAb,CAKA,MAAKnB,mBAAL,CAA2B,MAAKA,mBAAL,CAAyBoB,IAAzB,+BAA3B,CAPe,aAQlB,C,kDAsBD,4BAAmB,CACf,KAAKX,aAAL,GACA,KAAKT,mBAAL,GACA,KAAKS,aAAL,GACH,C,sBACD,iBAAQ,CACA,mBACI,WAAG,SAAS,CAAG,MAAf,uBAAgC,KAAKP,KAAL,CAAWK,cAA3C,KAA4D,KAAKZ,KAAL,CAAWQ,YAAvE,yBAA0G,KAAKD,KAAL,CAAWiB,SAArH,8BADJ,CAGP,C,kBAxCc3B,KAAK,CAAC6B,S,EAyCxB,CAED,cAAe3B,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nclass Info extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            totalDestroyed: null,\n            shipSelected: this.props.shipSelected,\n            totalDays: null\n        };\n        this.fetchTotalDestroyed = this.fetchTotalDestroyed.bind(this);\n    }\n    HomeCheck = () => {\n        if(window.location.pathname === \"/\"){\n            return \"Heron\"\n        }\n        else {\n            return window.location.pathname\n        }\n    }\n    fetchTotalDestroyed = () => {\n        axios.get(`/api/esi/totalDestroyed/${this.state.shipSelected}`)\n        .then(response => {\n            return this.setState({totalDestroyed: response.data.totalDestroyed})\n        })\n    }\n    calcTotalDays = () =>{\n        const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n        const firstDate = new Date('2021-07-03T11:30:02Z')\n        const secondDate = Date.now();\n        const diffDays = Math.round(Math.abs((firstDate - secondDate) / oneDay));\n        this.setState({totalDays: diffDays});\n    }\n    componentDidMount(){\n        this.calcTotalDays();\n        this.fetchTotalDestroyed();\n        this.calcTotalDays();\n    };\n    render(){\n            return (\n                <p className = \"info\">Fetching {this.state.totalDestroyed} {this.props.shipSelected} kills from the last {this.state.totalDays} days in wormhole space.</p>\n            )\n    }\n};\n\nexport default Info;\n"]},"metadata":{},"sourceType":"module"}