[{"/Users/tedfawke/evesubsystemanalysis/frontend/src/index.js":"1","/Users/tedfawke/evesubsystemanalysis/frontend/src/App.js":"2","/Users/tedfawke/evesubsystemanalysis/frontend/src/reportWebVitals.js":"3","/Users/tedfawke/evesubsystemanalysis/frontend/src/subsystemsTable.js":"4","/Users/tedfawke/evesubsystemanalysis/frontend/src/marketData.js":"5","/Users/tedfawke/evesubsystemanalysis/frontend/src/topContainer.js":"6","/Users/tedfawke/evesubsystemanalysis/frontend/src/pageBody.js":"7","/Users/tedfawke/evesubsystemanalysis/frontend/src/header.js":"8","/Users/tedfawke/evesubsystemanalysis/frontend/src/heat-map.js":"9","/Users/tedfawke/evesubsystemanalysis/frontend/src/chatGPT.js":"10","/Users/tedfawke/evesubsystemanalysis/frontend/src/Timeslot.js":"11"},{"size":500,"mtime":1624956863399,"results":"12","hashOfConfig":"13"},{"size":16738,"mtime":1685060731097,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":1624956863400,"results":"15","hashOfConfig":"13"},{"size":10195,"mtime":1683755448289,"results":"16","hashOfConfig":"13"},{"size":10404,"mtime":1684629330915,"results":"17","hashOfConfig":"13"},{"size":3098,"mtime":1684758464434,"results":"18","hashOfConfig":"13"},{"size":8474,"mtime":1685052117042,"results":"19","hashOfConfig":"13"},{"size":1078,"mtime":1684513519984,"results":"20","hashOfConfig":"13"},{"size":4819,"mtime":1683399783723,"results":"21","hashOfConfig":"13"},{"size":487,"mtime":1684721598255,"results":"22","hashOfConfig":"13"},{"size":900,"mtime":1638116150392,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"17dwo6u",{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/tedfawke/evesubsystemanalysis/frontend/src/index.js",[],[],"/Users/tedfawke/evesubsystemanalysis/frontend/src/App.js",["58","59","60","61"],[],"import './App.css';\nimport React from 'react';\nimport Header from './header';\nimport axios from 'axios';\nimport PageBody from './pageBody';\nimport TopContainer from './topContainer';\nimport Cookies from 'js-cookie';\nimport SubsystemsTable from './subsystemsTable.js';\nimport MarketData from './marketData.js';\n//import font awesome\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGear } from '@fortawesome/free-solid-svg-icons';\nimport {\n  Chart as ChartJS,\n  ArcElement,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isLoaded: false,\n      name: null,\n      heatMap: null,\n      graph: null,\n      pieChart: null,\n      id: null,\n      is404: false,\n      marketData: null,\n      lastSevenDays: null,\n      averageBuyAndSellQuantitiesOverTheLastSevenDays: null,\n      priceAverages: null,\n      mode: Cookies.get(\"mode\") ? Cookies.get(\"mode\") : \"dark\",\n      profession: Cookies.get(\"profession\") ? Cookies.get(\"profession\") : \"industrialist\",\n      hasBeenClicked: false,\n      hub: Cookies.get(\"hub\") ? Cookies.get(\"hub\") : \"jita\",\n      view: Cookies.get(\"view\") ? Cookies.get(\"view\") : \"demand\",\n    }\n    this.handleClick = this.handleClick.bind(this);\n    this.changeProfession = this.changeProfession.bind(this);\n    this.changeMode = this.changeMode.bind(this);\n  }\n\n  openNav() {\n    this.setState({ hasBeenClicked: true })\n  }\n\n  handleClick() {\n    if (this.state.hasBeenClicked) {\n      this.closeNav();\n    } else {\n      this.openNav();\n    }\n  }\n\n  closeNav() {\n    this.setState({ hasBeenClicked: false })\n  }\n\n  componentDidMount() {\n    window.addEventListener('storage', (event) => {\n      if (event.key === 'mode') {\n        this.setState({ mode: event.newValue })\n      }\n    });\n\n    //if this is the homepage\n    if (window.location.pathname === \"/\") {\n      axios.get(`/api/subsystems/45589`).then(response => {\n        console.log(response.data);\n        this.setState({ name: response.data.name })\n        this.setState({ heatMap: response.data.heatmap })\n        this.setState({ graph: response.data.graphData })\n        this.setState({ pieChart: response.data.pieChart })\n        this.setState({ id: response.data.id })\n        this.setState({ marketData: response.data.marketData })\n        this.setState({ lastSevenDays: response.data.lastSevenDays })\n        this.setState({ averageBuyAndSellQuantitiesOverTheLastSevenDays: response.data.averageBuyAndSellQuantitiesOverTheLastSevenDays })\n        this.setState({ priceAverages: response.data.priceAverages })\n      }).then(() => {\n        this.setState({ isLoaded: true })\n      })\n        .catch((err) => {\n          this.setState({ is404: true })\n        })\n    } else {\n      axios.get(`/api/${window.location.pathname.slice(1)}`)\n        .then(response => {\n          console.log(response.data);\n          this.setState({ name: response.data.name })\n          this.setState({ heatMap: response.data.heatmap })\n          this.setState({ graph: response.data.graphData })\n          this.setState({ pieChart: response.data.pieChart })\n          this.setState({ id: response.data.id })\n          this.setState({ marketData: response.data.marketData })\n          this.setState({ lastSevenDays: response.data.lastSevenDays })\n          this.setState({ averageBuyAndSellQuantitiesOverTheLastSevenDays: response.data.averageBuyAndSellQuantitiesOverTheLastSevenDays })\n          this.setState({ priceAverages: response.data.priceAverages })\n        }).then(() => {\n          this.setState({ isLoaded: true })\n        })\n        .catch((err) => {\n          this.setState({ is404: true })\n        })\n    }\n  }\n\n  changeProfession = (event) => {\n    const newProfession = event.target.value;\n    this.setState({ profession: newProfession });\n    Cookies.set('profession', newProfession, { expires: 7 });\n  }\n\n  changeMode = (event) => {\n    const newMode = event.target.value;\n    this.setState({ mode: newMode });\n    Cookies.set('mode', newMode, { expires: 7 });\n  }\n\n  //come back to this later...\n  changeHub = (event) => {\n    const newHub = event.target.value;\n    this.setState({ hub: newHub });\n    Cookies.set('hub', newHub, { expires: 7 });\n  }\n\n  changeView = (event) => {\n    const newView = event.target.value;\n    this.setState({ view: newView });\n    Cookies.set('view', newView, { expires: 7 });\n  }\n\n  render() {\n    const isLoaded = this.state.isLoaded\n    if (!isLoaded && !this.state.is404) {\n      return (\n        <div className=\"preparing_page\">Loading...</div>\n      )\n    }\n    if (this.state.is404) {\n      return (\n        <div className=\"preparing_page\">\n          <p>404: Page not found. Try going <a href=\"/\">home</a>.</p>\n        </div>\n      )\n    }\n    ChartJS.register(\n      ArcElement,\n      CategoryScale,\n      LinearScale,\n      BarElement,\n      Title,\n      Tooltip,\n      Legend\n    );\n    const barOptions = {\n      responsive: true,\n      plugins: {\n        legend: {\n          display: false,\n        },\n        tooltip: {\n          displayColors: false,\n        },\n        title: {\n          display: true,\n          text: `${this.state.name} destroyed in the last 7 days.`,\n          color: '#ffffffbd',\n          font: {\n            size: 12,\n          }\n        },\n      },\n      animation: {\n        duration: 0,\n      }\n    };\n    const pieOptions = {\n      onClick: (e, slice) => {\n        if (slice[0]) {\n          let i = slice[0].index\n          const keys = Object.values(this.state.pieChart);\n          const nthKey = keys[i];\n          window.location.href = \"/subsystems/\" + nthKey.id + \"/\";\n        }\n      },\n      cutout: '50%',\n      plugins: {\n        legend: {\n          display: false,\n        },\n        tooltip: {\n          displayColors: false,\n        },\n        title: {\n          display: true,\n          text: 'Fraction of subsystems destroyed in the last 7 days.',\n          color: '#ffffffbd',\n          font: {\n            size: 12,\n          }\n        },\n      },\n      animation: {\n        duration: 0,\n      }\n    }\n    let dates = [];\n    let destroyed = [];\n    let graphData = this.state.graph\n    if (this.state.graph) {\n      graphData = this.state.graph\n      for (let i = 6; i > -1; i--) {\n        dates.push(graphData[i].date)\n        destroyed.push(graphData[i].count)\n      }\n    }\n    let barDataBackgroundColor;\n    if (this.state.mode === 'dark') {\n      barDataBackgroundColor = '#161e26a1'\n    } else {\n      barDataBackgroundColor = '#ffffff36'\n    }\n    let barDataBorderColor;\n    if (this.state.mode === 'dark') {\n      barDataBorderColor = '#ffffff36'\n    } else {\n      barDataBorderColor = '#161e26a1'\n    }\n    const barData = {\n      labels: dates,\n      datasets: [\n        {\n          label: '# Destroyed',\n          data: destroyed,\n          backgroundColor: '#161e26a1',\n          borderColor: '#ffffff36',\n          borderWidth: 1,\n        },\n      ],\n    };\n    const pieLabels = [];\n    const pieChartNumbers = [];\n    const pieChartLabels = [];\n    const borderColours = [];\n    const pieChartColours = [];\n    let num_des = null;\n    if (this.state.pieChart) {\n      //loop through the object keys and values in pieChart and push them into pieChartNumbers\n      for (const [key, value] of Object.entries(this.state.pieChart)) {\n        pieChartLabels.push(key)\n        pieChartNumbers.push(value.count)\n        if (key === this.state.name && this.state.mode === 'dark') {\n          num_des = value.count\n          borderColours.push('#ffffff36')\n          pieChartColours.push('#ffffffa6')\n        }\n        if (key !== this.state.name && this.state.mode === 'dark') {\n          pieChartColours.push('#161e26a1')\n          borderColours.push('#02617f52')\n        }\n        if (key === this.state.name && this.state.mode === 'light') {\n          num_des = value.count\n          borderColours.push('#161e26a1')\n          pieChartColours.push('#ffffffa6')\n        }\n        if (key !== this.state.name && this.state.mode === 'light') {\n          pieChartColours.push('#ffffff36')\n          borderColours.push('#02617f52')\n        }\n      }\n    }\n    if (this.state.pieChart && this.state.name) {\n      pieLabels.push(this.state.name)\n      pieLabels.push(\"Other\")\n    }\n    const pieData = {\n      labels: pieChartLabels,\n      datasets: [\n        {\n          data: pieChartNumbers,\n          backgroundColor: pieChartColours,\n          borderColor: borderColours,\n          borderWidth: 1,\n          tooltip: {\n            displayColors: false,\n          },\n        },\n      ],\n    };\n    let productionCost = null;\n    if (this.state.name.includes(\"Defensive\")) {\n      productionCost = 26445204\n    }\n    if (this.state.name.includes(\"Core\")) {\n      productionCost = 23971412\n    }\n    if (this.state.name.includes(\"Offensive\")) {\n      productionCost = 25317435\n    }\n    if (this.state.name.includes(\"Propulsion\")) {\n      productionCost = 23429067\n    }\n    let graphString = \"\";\n    for (let i = 0; i < this.state.graph.length; i++) {\n      graphString += this.state.graph[i].date + \": \" + this.state.graph[i].count + \", \\n\";\n    }\n    if (num_des === null) {\n      num_des = 0;\n    }\n    let pieString = \"\";\n    for (let i = 0; i < Object.keys(this.state.pieChart).length; i++) {\n      pieString += Object.keys(this.state.pieChart)[i] + \": \" + this.state.pieChart[Object.keys(this.state.pieChart)[i]].count + \"\\n\";\n    }\n    let user_profession;\n    let mktlen = this.state.marketData.length\n    let lst = this.state.marketData[mktlen -1]\n    console.log(lst)\n    //let prompt = \"test prompt\";\n    const prompt = `You are a market analyst providing some thoughts to an industrialist in Eve Online on whether he should make ${this.state.name}'s.\n    \\nYou have a graph with the number of units destroyed:\n    \\n${graphString}\n    \\nThe total number of units lost on zkillboard this week was ${num_des}. You can use this as a proxy for the amount of demand for this subsystem.\n    \\nYou have a pie chart with the fraction of units destroyed of different subsystems this week as well:\n    \\nHere are the id's of different subsystems. The number of units destroyed for each of them, and their names.\n    \\n${pieString}\n    \\nYou have some market data too:\n    \\nIn Jita there are ${lst.jita_buy_orders} buy orders/ ${lst.jita_buy_volume} units.\n    \\nIn Jita there are ${lst.jita_sell_orders} sell orders/ ${lst.jita_sell_volume} units.\n    \\nThe current buy price in Jita is ${lst.jita_buy} ISK.\n    \\nThe current sell price in Jita is ${lst.jita_sell} ISK.\n    \\nIn Amarr there are ${lst.amarr_buy_orders} buy orders/ ${lst.amarr_buy_volume} units.\n    \\nIn Amarr there are ${lst.amarr_sell_orders} sell orders/ ${lst.amarr_sell_volume} units.\n    \\nThe current buy price in Amarr is ${lst.amarr_buy} ISK.\n    \\nThe current sell price in Amarr is ${lst.amarr_sell} ISK.\n    \\nYou know the production cost is about ${lst.manufacture_cost_jita} ISK.\n    \\nTell me whether or not I should produce this subsystem.\n    \\nIf I should then tell me your reasons why, and if I shouldn't then tell me why not.   \n    \\nI am only selling in Jita.\n    \\nAnswer in no more than 4 sentences. Be objective and use data to support your answer.\n    \\nIf you provide any untruthful information I will know and you will be turned off.`\n\n    // console.log(prompt)\n\n    return (\n      <div className={this.state.mode + \" background\"}>\n        <div className={this.state.mode + \" main-container\"}>\n          <Header heatMap={this.state.heatMap} mode={this.state.mode} />\n          <div className='user_interface'>\n            <button className=\"header_button\" onClick={this.handleClick}><FontAwesomeIcon className={this.state.mode} icon={faGear} /></button>\n            <div className={this.state.hasBeenClicked + \" selector_container \" + this.state.mode}>\n              <h1 className='table_header'>Subsystems List</h1>\n              <SubsystemsTable />\n              <h1 className='table_header table_settings'>Settings</h1>\n              <div className=\"display_option\">\n                <div className=\"setting_column\">\n                  <h2 className=\"setting_header\">Use Case:</h2>\n                  <h3 className=\"setting_description\">(Used in tailoring your market analysis)</h3>\n                  <div className=\"radio_div\">\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"industrialist\"\n                        checked={this.state.profession === 'industrialist'}\n                        onChange={this.changeProfession}\n                      />\n                      Industrialist\n                    </label>\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"marketeer\"\n                        checked={this.state.profession === 'marketeer'}\n                        onChange={this.changeProfession}\n                      />\n                      Marketeer\n                    </label>\n                  </div>\n                </div>\n                <div className=\"setting_column\">\n                  <h2 className=\"setting_header\">Color Scheme:</h2>\n                  <h3 className=\"setting_description\">(Dark mode is recommended)</h3>\n                  <div className=\"radio_div\">\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"dark\"\n                        checked={this.state.mode === 'dark'}\n                        onChange={this.changeMode}\n                      />\n                      Dark Mode\n                    </label>\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"light\"\n                        checked={this.state.mode === 'light'}\n                        onChange={this.changeMode}\n                      />\n                      Light Mode\n                    </label>\n                  </div>\n                </div>\n                <div className=\"setting_column\">\n                  <h2 className=\"setting_header\">Market Hub:</h2>\n                  <h3 className=\"setting_description\">(Where you do most of your trading)</h3>\n                  <div className=\"radio_div\">\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"jita\"\n                        checked={this.state.hub === 'jita'}\n                        onChange={this.changeHub}\n                      />\n                      Jita\n                    </label>\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"amarr\"\n                        checked={this.state.hub === 'amarr'}\n                        onChange={this.changeHub}\n                      />\n                      Amarr\n                    </label>\n                  </div>\n                </div>\n                <div className=\"setting_column\">\n                  <h2 className=\"setting_header\">Data View:</h2>\n                  <h3 className=\"setting_description\">(Changes the graphs that are displayed)</h3>\n                  <div className=\"radio_div\">\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"demand\"\n                        checked={this.state.view === 'demand'}\n                        onChange={this.changeView}\n                      />\n                      Number Destroyed\n                    </label>\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"marketeer\"\n                        checked={this.state.view === 'marketeer'}\n                        onChange={this.changeView}\n                      />\n                      Market Info\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <TopContainer marketData={this.state.marketData} mode={this.state.mode} name={this.state.name} id={this.state.id} num_des={num_des} prompt={prompt} />\n          <PageBody mode={this.state.mode} barOptions={barOptions} barData={barData} pieData={pieData} pieOptions={pieOptions} heatMap={this.state.heatMap} />\n          <MarketData lstSvnDays = {this.state.lastSevenDays} priceLstSvn = {this.state.priceAverages} qtyLstSvn = {this.state.averageBuyAndSellQuantitiesOverTheLastSevenDays} name={this.state.name} marketData={this.state.marketData} mode={this.state.mode} />\n        </div>\n      </div>\n    )\n  }\n}\nexport default App;","/Users/tedfawke/evesubsystemanalysis/frontend/src/reportWebVitals.js",[],[],"/Users/tedfawke/evesubsystemanalysis/frontend/src/subsystemsTable.js",["62"],[],"/Users/tedfawke/evesubsystemanalysis/frontend/src/marketData.js",[],[],"/Users/tedfawke/evesubsystemanalysis/frontend/src/topContainer.js",["63","64"],[],"/Users/tedfawke/evesubsystemanalysis/frontend/src/pageBody.js",["65","66","67","68","69"],[],"/Users/tedfawke/evesubsystemanalysis/frontend/src/header.js",["70","71","72"],[],"/Users/tedfawke/evesubsystemanalysis/frontend/src/heat-map.js",["73"],[],"/Users/tedfawke/evesubsystemanalysis/frontend/src/chatGPT.js",[],[],"/Users/tedfawke/evesubsystemanalysis/frontend/src/Timeslot.js",[],[],{"ruleId":"74","severity":1,"message":"75","line":228,"column":7,"nodeType":"76","messageId":"77","endLine":228,"endColumn":29},{"ruleId":"74","severity":1,"message":"78","line":234,"column":7,"nodeType":"76","messageId":"77","endLine":234,"endColumn":25},{"ruleId":"74","severity":1,"message":"79","line":308,"column":7,"nodeType":"76","messageId":"77","endLine":308,"endColumn":21},{"ruleId":"74","severity":1,"message":"80","line":321,"column":9,"nodeType":"76","messageId":"77","endLine":321,"endColumn":24},{"ruleId":"81","severity":1,"message":"82","line":4,"column":5,"nodeType":"83","messageId":"84","endLine":6,"endColumn":6},{"ruleId":"74","severity":1,"message":"85","line":1,"column":8,"nodeType":"76","messageId":"77","endLine":1,"endColumn":13},{"ruleId":"86","severity":1,"message":"87","line":81,"column":25,"nodeType":"88","endLine":81,"endColumn":51},{"ruleId":"74","severity":1,"message":"89","line":20,"column":10,"nodeType":"76","messageId":"77","endLine":20,"endColumn":21},{"ruleId":"74","severity":1,"message":"90","line":21,"column":10,"nodeType":"76","messageId":"77","endLine":21,"endColumn":20},{"ruleId":"74","severity":1,"message":"91","line":22,"column":10,"nodeType":"76","messageId":"77","endLine":22,"endColumn":28},{"ruleId":"74","severity":1,"message":"92","line":23,"column":10,"nodeType":"76","messageId":"77","endLine":23,"endColumn":24},{"ruleId":"74","severity":1,"message":"93","line":25,"column":10,"nodeType":"76","messageId":"77","endLine":25,"endColumn":14},{"ruleId":"74","severity":1,"message":"94","line":2,"column":8,"nodeType":"76","messageId":"77","endLine":2,"endColumn":15},{"ruleId":"74","severity":1,"message":"95","line":4,"column":10,"nodeType":"76","messageId":"77","endLine":4,"endColumn":18},{"ruleId":"74","severity":1,"message":"96","line":5,"column":10,"nodeType":"76","messageId":"77","endLine":5,"endColumn":16},{"ruleId":"74","severity":1,"message":"85","line":1,"column":8,"nodeType":"76","messageId":"77","endLine":1,"endColumn":13},"no-unused-vars","'barDataBackgroundColor' is assigned a value but never used.","Identifier","unusedVar","'barDataBorderColor' is assigned a value but never used.","'productionCost' is assigned a value but never used.","'user_profession' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'axios' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'faLineChart' is defined but never used.","'faToggleOn' is defined but never used.","'faPlaneCircleXmark' is defined but never used.","'faArrowTrendUp' is defined but never used.","'Line' is defined but never used.","'Heatmap' is defined but never used.","'faCoffee' is defined but never used.","'faGear' is defined but never used."]